<Window x:Class="YouTubeDubber.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:YouTubeDubber.UI"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="YouTube Video Dubber" Height="650" Width="900"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{materialDesign:MaterialDesignFont}">
    
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Window.Resources>
    
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="YouTube Video Dubber" 
                   Style="{StaticResource MaterialDesignHeadline4TextBlock}"
                   Margin="0,0,0,16"/>

        <!-- YouTube URL Input Section -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <materialDesign:Card Padding="8" Margin="0,0,8,0">
                <TextBox x:Name="txtYouTubeUrl" 
                         materialDesign:HintAssist.Hint="Enter YouTube URL"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"
                         Margin="8"
                         KeyDown="TxtYouTubeUrl_KeyDown"/>
            </materialDesign:Card>
            
            <Button Grid.Column="1" 
                    x:Name="btnGetVideoInfo"
                    Content="Get Video"
                    Style="{StaticResource MaterialDesignRaisedButton}" 
                    Click="BtnGetVideoInfo_Click"
                    Margin="0,0,0,0" />
        </Grid>
        
        <!-- Video Information and Download Section -->
        <materialDesign:Card Grid.Row="2" Margin="0,16,0,16" Padding="16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- No Data Placeholder -->
                <TextBlock x:Name="txtNoData" 
                           Text="Enter a YouTube URL to get started"
                           Grid.ColumnSpan="2"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                           Visibility="{Binding ElementName=videoInfoPanel, Path=Visibility, Converter={StaticResource BoolToVis}, ConverterParameter=inverse}"/>
                
                <!-- Video Info Panel -->
                <Grid x:Name="videoInfoPanel" Grid.ColumnSpan="2" Visibility="Collapsed">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Thumbnail Image -->
                    <Border Grid.Column="0" Width="240" Height="180" Margin="0,0,16,0"
                            BorderThickness="1" BorderBrush="{DynamicResource MaterialDesignDivider}">
                        <Image x:Name="imgThumbnail" Stretch="Uniform"/>
                    </Border>
                    
                    <!-- Video Details -->
                    <StackPanel Grid.Column="1" Margin="8,0,0,0">
                        <TextBlock x:Name="txtVideoTitle" 
                                   Style="{StaticResource MaterialDesignHeadline6TextBlock}" 
                                   TextWrapping="Wrap"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="Channel: " FontWeight="Bold"/>
                            <TextBlock x:Name="txtVideoAuthor"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                            <TextBlock Text="Duration: " FontWeight="Bold"/>
                            <TextBlock x:Name="txtVideoDuration"/>
                        </StackPanel>
                        
                        <TextBlock x:Name="txtVideoDescription" 
                                   TextWrapping="Wrap" 
                                   Margin="0,16,0,0" 
                                   MaxHeight="120"
                                   VerticalAlignment="Top"
                                   TextTrimming="CharacterEllipsis"/>
                          <StackPanel Orientation="Vertical" Margin="0,16,0,0" Spacing="8">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <Button x:Name="btnDownloadVideo" 
                                        Content="Download Video" 
                                        Style="{StaticResource MaterialDesignRaisedButton}"
                                        Click="BtnDownloadVideo_Click"/>
                                
                                <Button x:Name="btnDownloadAudio" 
                                        Content="Download Audio" 
                                        Style="{StaticResource MaterialDesignOutlinedButton}"
                                        Click="BtnDownloadAudio_Click"/>
                            </StackPanel>
                            
                            <Button x:Name="btnExtractSpeechAudio" 
                                    Content="Extract Speech-Optimized Audio" 
                                    Style="{StaticResource MaterialDesignRaisedSecondaryButton}"
                                    Click="BtnExtractSpeechAudio_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Grid>
        </materialDesign:Card>
        
        <!-- Progress Section -->
        <Grid Grid.Row="3" x:Name="downloadProgressGrid" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <TextBlock x:Name="txtDownloadStatus" 
                       Text="Downloading..."
                       Margin="0,0,0,8"/>
            
            <ProgressBar x:Name="progressDownload" 
                         Grid.Row="1"
                         Height="10" 
                         Minimum="0" 
                         Maximum="100"
                         Value="0"/>
        </Grid>
    </Grid>
</Window>
